<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{site/siteCartLayout.html}">
  	<head>
  	
  	</head>
  	<body>
		
			<div class="container-fluid" layout:fragment="content">
				<div class="row">
					<div class="col-6 offset-3 mt-4">
						<form th:action="@{/changeCustomerPassword}" method="post" th:object="${changePassword}" id="changPass">
							<div class="card">
				
								<div class="card-body">
									<div th:if="@{message != null}" role="alert">
										<div>
											<i>[[${message}]]</i>
										</div>
				
									</div>
									<div class="form-group">
										<label for="name">Old Password</label> <input type="password" class="form-control"
											th:field="*{oldPassword}" id="oldPassword" aria-describedby="oldPasswordHid"
											placeholder=" Old Password">
										<small th:if="${#fields.hasErrors('oldPassword')}" id="oldPasswordHid"
											class="form-text text-muted">Password
											required or invalid</small>
				
									</div>
				
									<div class="form-group">
										<label for="name">New Password</label>
										<input type="password" class="form-control" th:field="*{newPassword}" id="newPassword"
											aria-describedby="newPasswordHid" placeholder=" New Password">
				
										<small th:if="${#fields.hasErrors('newPassword')}" id="newPasswordHid"
											class="form-text text-muted">Password
											required or invalid</small>
				
									</div>
				
									<div class="form-group">
										<label for="name">Confirm Password</label>
										<input type="password" class="form-control" id="confirm-password" name="confirm-password"
											placeholder="Confirm Password">
				
				
									</div>
				
								</div>
								<div class="card-footer text-muted">
									<button type="reset" class="btn btn-secondary">Reset</button>
				
									<button class="btn btn-primary" onclick="submitForm();">
										<i class="fas fa-save"></i> Change Password
									</button>
								</div>
				
				
							</div>
						</form>
				
					</div>
					<!-- end of col-sm-12 -->
				</div>
				<script type="text/javascript" src="/adasserts/js/jquery/jquery.min.js "></script>
				<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.min.js"></script>
				<script type="text/javascript">

				    function submitForm()
				    {
				        
				        $("#changPass").validate({
				            rules:
				                {
				                    
				                    "oldPassword":{
				                        required:true,
				                        minlength: 6,
				                        maxlength: 30,
				                    },
				                    "newPassword":{
				                        required:true,
				                        minlength: 6,
				                        maxlength: 30,
				                    },
				                    "confirm-password":{
				                        required:true,
				                        minlength: 6,
				                        maxlength: 30,
				                        equalTo: '[name="password"]'
				                    }
				                },
				            messages:
				                {
				                    
				                    "oldPassword":{
				                        required:"Vui lòng nhập mật khẩu",
				                        minlength: "Nhập ít nhất 6 kí tự",
				                        maxlength: "Nhập nhiều nhất 30 kí tự",
				                    },
				                    "newPassword":{
				                        required:"Vui lòng nhập mật khẩu mới",
				                        minlength: "Nhập ít nhất 6 kí tự",
				                        maxlength: "Nhập nhiều nhất 30 kí tự",
				                    },
				                    "confirm-password":{
				                        required: "Vui lòng nhập",
				                        minlength: "Nhập ít nhất 6 kí tự",
				                        maxlength: "Nhập nhiều nhất 30 kí tự",
				                        equalTo: "Mật khẩu không khớp"
				                    }
				                }
				        });
				    }
				</script>
			</div>
	</body>
</html>